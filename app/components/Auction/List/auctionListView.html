<m param="{route}">
<div class="auction-list-page">
    <h1>
        {{'texts.auction.auction_list' | i18next}}
        <span class="heading-right sorting-bar">

            <span ng-show="!filterOpen" class="opener" ng-click="toggleSearch()">
                <span class="normal-icon glyphicon glyphicon-filter"></span>
                {{'texts.search.advanced' | i18next}}
            </span>
            <span ng-show="filterOpen" class="opener" ng-click="resetSearch()">
                <span class="red normal-icon glyphicon glyphicon-remove"></span>
                {{'texts.search.cancel' | i18next}}
            </span>
            <span class="divider menu-divider"></span>
            <span style="display: inline-block">
                <span class="select_auction_template">
              <label>{{'texts.sorting.label' | i18next}}</label>
            </span>
            <span class="btn-group">
                <button class="sorting-button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span ng-if="sorting">{{sorting}}</span>
                    <span ng-if="!sorting">{{'texts.sorting.label' | i18next}}</span>
                    <i class="glyphicon glyphicon-triangle-bottom"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-right">
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}', sort: 'price', order: 'ASC'})">
                        {{'texts.sorting.price.ASC' | i18next}}
                    </div>
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}', sort: 'price', order: 'DESC'})">
                        {{'texts.sorting.price.DESC' | i18next}}
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}', sort: 'end_auction', order: 'DESC'})">
                        {{'texts.sorting.end_auction.DESC' | i18next}}
                    </div>
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}', sort: 'end_auction', order: 'ASC'})">
                        {{'texts.sorting.end_auction.ASC' | i18next}}
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}', sort: 'from', order: 'ASC'})">
                        {{'texts.sorting.from.ASC' | i18next}}
                    </div>
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}',sort: 'from', order: 'DESC'})">
                        {{'texts.sorting.from.DESC' | i18next}}
                    </div>
                    <div class="dropdown-divider"></div>
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}', sort: 'to', order: 'ASC'})">
                        {{'texts.sorting.to.ASC' | i18next}}
                    </div>
                    <div class="dropdown-item" ui-sref="auction({page: '{{page}}', sort: 'to', order: 'DESC'})">
                        {{'texts.sorting.to.DESC' | i18next}}
                    </div>
                </div>
            </span>
            </span>
        </span>
    </h1>
    <div class="auction-filter col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <form name="searchAuctionList" ng-open="formLabels('searchAuctionList')" novalidate>
            <div class="advanced-filter row">
                <div class="col-md-4">
                    <div class="form-group">
                        <input ng-model="search.address_from" class="form-control my-input" placeholder="{{'texts.auction.from' | i18next}}" />
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <input ng-model="search.address_to" class="form-control my-input" placeholder="{{'texts.auction.to' | i18next}}" />
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <select class="form-control my-input" ng-model="search.type" name="freight_type" id="freight_type">
                            <option class="placeholder-item" value="" disabled>{{'texts.auction.freight_type.label' | i18next}}</option>
                            <option value="any" ng-show="search.type">{{'texts.auction.freight_type.0' | i18next}}</option>
                            <option value="1">{{'texts.auction.freight_type.1' | i18next}}</option>
                            <option value="2">{{'texts.auction.freight_type.2' | i18next}}</option>
                            <option value="3">{{'texts.auction.freight_type.3' | i18next}}</option>
                            <option value="4">{{'texts.auction.freight_type.4' | i18next}}</option>
                            <option value="5">{{'texts.auction.freight_type.5' | i18next}}</option>
                            <option value="6">{{'texts.auction.freight_type.6' | i18next}}</option>
                            <option value="7">{{'texts.auction.freight_type.7' | i18next}}</option>
                            <option value="8">{{'texts.auction.freight_type.8' | i18next}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <div id="slider-price" class="slider"></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group no-label text-center">
                        <label>
                            <input type="checkbox"
                                      id="toggle-expired"
                                      ng-checked="search.expired"
                                      data-toggle="toggle"
                                      data-onstyle="nohe"
                                   data-width="150"
                                      data-on="{{'texts.search.expiredOn' | i18next}}"
                                      data-off="{{'texts.search.expiredOff' | i18next}}"/>
                        </label>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="form-group no-label2">
                        <button type="submit" ng-click="makeSearch()" class="my-button normal-button">{{'texts.search.search' | i18next}}</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="auction-list col-xs-12 col-sm-12 col-md-12 col-lg-12 ">
        <div ng-if="AuctionList.length" class="auction-header-line col-sm-12 col-md-12 col-lg-12">
            <div class="auction-header col-sm-11 col-md-11 col-lg-11">
                <div class="auction-cell col-sm-2 col-md-2 col-lg-2"><span>{{'texts.auction.from' | i18next}}</span></div>
                <div class="auction-cell col-sm-2 col-md-2 col-lg-2"><span>{{'texts.auction.to' | i18next}}</span></div>
                <div class="auction-cell col-sm-4 col-md-4 col-lg-4"><span>{{'texts.auction.freight_type.label' | i18next}}</span></div>
                <div class="auction-cell col-sm-2 col-md-2 col-lg-2"><span>{{'texts.auction.price' | i18next}}</span></div>
                <div class="auction-cell col-sm-2 col-md-2 col-lg-2">
                    <div>
                        <span>{{'texts.auction.end_auction' | i18next}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="auction-body col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <div ng-if="!AuctionList.length" class="no-auction">{{'texts.auction.no_auction' | i18next}}</div>
            <div class="auction-item" ng-repeat="item in AuctionList">
                <detail-auction auction-item="{item}" with-favourite="withFavourite"></detail-auction>
            </div>
            <paging item-count="AuctionList.length" all-items-count="AuctionListCount"></paging>
        </div>
	</div>
</div>
    {{afterRender()}}
</m>

<script type="text/ng-template" id="modal_bid_auction" class="modal-content">
    <div class="modal-header">
        <h2>{{'texts.bid_auction_modal_title' | i18next}}</h2>
    </div>

    <div class="modal-body">
        <span>{{'texts.bid_auction_modal_text' | i18next}} {{bid}},-Kƒç</span>
    </div>
    <div class="modal-footer">
        <div class="my-button normal-button" ng-click="ok()">{{'texts.ok' | i18next}}</div>
        <div class="my-button easy-button" ng-click="cancel()">{{'texts.cancel' | i18next}}</div>
    </div>
</script>